// Generated by GraphQL Generator
// DO NOT EDIT - This file is automatically generated

import Foundation
import GraphQL

// Enums

/// User role enumeration
public enum Role: String, Codable, Sendable {
    case admin = "ADMIN"
    case user = "USER"
    case guest = "GUEST"
}

// TODO: Directives

// Input objects are just codable structs
public struct UserInfoInput: Codable, Sendable {
    let id: String
    let name: String
    let email: String
    let age: Int?
    let role: Role?
}

// Unions are represented by a marker protocol, with associated types conforming
public protocol UserOrPostUnion {}

public protocol HasEmailInterface: Sendable {
    associatedtype Resolvers: ResolversProtocol

    /// An email address
    func email(context: Resolvers.Context, info: GraphQLResolveInfo) async throws -> String
}

// Object Types

/// A simple user type
public protocol UserProtocol: HasEmailInterface, UserOrPostUnion, Sendable {
    // No type map associatedType needed because of HasEmailInterface inheritance

    /// The unique identifier for the user
    func id(context: Resolvers.Context, info: GraphQLResolveInfo) async throws -> String
    /// The user's display name
    func name(context: Resolvers.Context, info: GraphQLResolveInfo) async throws -> String
    /// The user's email address
    func email(context: Resolvers.Context, info: GraphQLResolveInfo) async throws -> String
    /// The user's age
    func age(context: Resolvers.Context, info: GraphQLResolveInfo) async throws -> Int?
    /// The user's age
    func role(context: Resolvers.Context, info: GraphQLResolveInfo) async throws -> Role?
}

public protocol ContactProtocol: HasEmailInterface, Sendable {
    // No type map associatedType needed because of HasEmailInterface inheritance

    func email(context: Resolvers.Context, info: GraphQLResolveInfo) async throws -> String
}

/// A blog post
public protocol PostProtocol: UserOrPostUnion, Sendable {
    associatedtype Resolvers: ResolversProtocol

    /// The unique identifier for the post
    func id(context: Resolvers.Context, info: GraphQLResolveInfo) async throws -> String
    /// The post title
    func title(context: Resolvers.Context, info: GraphQLResolveInfo) async throws -> String
    /// The post content
    func content(context: Resolvers.Context, info: GraphQLResolveInfo) async throws -> String
    /// The author of the post
    func author(context: Resolvers.Context, info: GraphQLResolveInfo) async throws -> Resolvers.User
}

public protocol QueryProtocol: Sendable {
    associatedtype Resolvers: ResolversProtocol

    /// Get a user by ID
    static func user(id: String, context: Resolvers.Context, info: GraphQLResolveInfo) async throws -> Resolvers.User?

    /// Get all users
    static func users(context: Resolvers.Context, info: GraphQLResolveInfo) async throws -> [Resolvers.User]

    /// Get a post by ID
    static func post(id: String, context: Resolvers.Context, info: GraphQLResolveInfo) async throws -> Resolvers.Post?

    /// Get recent posts
    static func posts(limit: Int?, context: Resolvers.Context, info: GraphQLResolveInfo) async throws -> [Resolvers.Post]

    /// Get a user or post by ID
    static func userOrPost(id: String, context: Resolvers.Context, info: GraphQLResolveInfo) async throws -> (any UserOrPostUnion)?
}

public protocol MutationProtocol: Sendable {
    associatedtype Resolvers: ResolversProtocol

    static func upsertUser(userInfo: UserInfoInput, context: Resolvers.Context, info: GraphQLResolveInfo) async throws -> Resolvers.User
}
